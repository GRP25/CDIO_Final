<!DOCTYPE html>

<html lang="en">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>CDIO</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--<link rel="stylesheet" href="tailwindStyle.css">-->
<link href="https://unpkg.com/tailwindcss@%5E1.0/dist/tailwind.min.css" rel="stylesheet">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="script.js"></script>

<body class="bg-gray-700">
<!--Header containing logo and title-->
<header class="flex items-end justify-between bg-black px-4 pt-3">
    <div>
        <span class="font-bold text-4xl text-white">CDIO</span>
    </div>


    <div>
        <img class="h-8 fill-white " src="health.svg" alt="">

    </div>
</header>
<!--Overhead fan containing links to the different administrations-->
<div :class="administrationer" class="flex items-end text-white justify-start bg-gray-900">
    <button type="button" class="inline-block px-3 hover:text-blue-500 "> this is a button</button>
    <button type="button" class="inline-block px-3 hover:text-blue-500 "> this is a button</button>
    <button type="button" class="inline-block px-3 hover:text-blue-500 "> this is a button</button>
    <button type="button" class="inline-block px-3 hover:text-blue-500 "> this is a button</button>
    <button type="button" class="inline-block px-3 hover:text-blue-500 "> this is a button</button>
</div>
<!--Sideboard with the different functions the administration can perform-->
<div class="relative h-screen w-1/3 bg-gray-800 float-left">
    <div :class="sidebar" class="container absolute inset-y-0 left-0 px-4 py3">
        <h5 class="font-semibold text-3xl text-white text-center">Valgmuligheder</h5>

        <!-- Circle bar -->
        <div class="block w-1/4">
            <a href="#"
               class="block button bg-purple-600 hover:bg-purple-800 text-white font-bold py-4 px-4 m-8 rounded-full text-center">Råvare</a>
            <a href=" #" class="block button bg-purple-600 hover:bg-purple-800 text-white font-bold py-4 px-4 m-8 rounded-full text-center"
               onclick="listPrecriptions()">Recepter</a>
            <a href=" #" class="block button bg-purple-600 hover:bg-purple-800 text-white font-bold py-4 px-4 m-8 rounded-full text-center"
               onclick="listPrecriptions()">Råvarebatch-administration</a>
        </div>

        <!-- Filter bar -->
        <div id="filter-list" class="w-3/4 ">

        </div>
    </div>
</div>
<!--main container will contain results and lists-->
<div :class="mainScreen" class="relative h-screen w-2/3 bg-gray-700 float-right">

    <!--Create and show list components-->
    <div class="flex justify-start inline-block h-24 px-full mb-0">
        <a href="#"
           class="block button bg-purple-600 hover:bg-purple-800 text-white font-bold py-4 px-4 m-5 rounded-full text-center">Tilføj
            +</a>
        <a href="#"
           class="block button bg-purple-600 hover:bg-purple-800 text-white font-bold py-4 px-4 m-5 rounded-full text-center"
           onclick="listCommodities();">VisListe</a>
    </div>

    <!--Table for showing results-->
    <div class="flex max-w-full mx-2 rounded overflow-hidden bg-white content-center">
        <table class="table-fixed w-full mx-auto">
            <thead>
            <tr>
                <th class="w-1/2 px-4 py-2">Råvare id</th>
                <th class="w-1/2 px-4 py-2">Recept id</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="border px-4 py-2">
                    <span class="float-left">Test</span>
                    <div class="flex inline-block justify-end ">
                        <button class="button float-right px-2">this is a button</button>
                        <button class="button float-right px-2">this is a button</button>
                    </div>
                </td>
                <td class="border px-4 py-2">Adam</td>
            </tr>
            <tr class="bg-gray-100">
                <td class="border px-4 py-2">A Long and Winding Tour of the History of UI Frameworks and Tools
                    and the Impact on Design</td>
                <td class="border px-4 py-2">Adam</td>
            </tr>
            <tr>
                <td class="border px-4 py-2">Intro to JavaScript</td>
                <td class="border px-4 py-2">Chris</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>



</body>

</html>





















<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://unpkg.com/tailwindcss@%5E1.0/dist/tailwind.min.css" rel="stylesheet">
    <script src="jquery-2.1.1.min.js"></script>


</head>
    <body>

        <div class="container">
             <div class="h-auto w-full bg-gray-800 my-10 ">
                 &lt;!&ndash;Search Bar&ndash;&gt;
                 <div class="p-2 flex justify-end" >
                     <input type="text" class="rounded-full">
                     <button class="m-4 bg-blue-300 rounded-full">SØG</button>
                     <button onclick="showModal(true)" class="m-4 bg-blue-300 rounded-full">OPRET</button>
                 </div>
                    &lt;!&ndash;Body showElementsAuto()&ndash;&gt;
                 <div class="text-black">
                     <div id="commodityBatch-list">

                     </div>
                 </div>
             </div>
        </div>

        &lt;!&ndash;Add information by user to commodityBatch&ndash;&gt;
        <div id="modal-view" class="hidden">
            &lt;!&ndash;Information field&ndash;&gt;
            <div class="bg-gray-300 w-1/3 p-3">
                <label>
                    Commodity Batch Id
                    <input class="w-full" type="text"  id="commodityBatch_id-input">
                </label>
                <label>
                    Commodity Id
                    <input class="w-full" type="text"  id="commodity_id-input">
                </label>
                <label>
                    Weight
                    <input class="w-full" type="text"  id="weight-input">
                </label>
                <label>
                    Supplier
                    <input class="w-full" type="text"  id="supplier-input">
                </label>
            </div>

            &lt;!&ndash;Create and Cancel buttons&ndash;&gt;
            <div class="flex flex-row justify-end">
                <button onclick="hideModal()" class="bg-red-200">Cancel</button>
                <button id="modal-add" onclick="addElement()" class="bg-blue-200">Add Element</button>
                <button id="modal-update" onclick="updateElement(document.getElementById('commodityBatch_id-input').value)"  class="bg-blue-200">Update Element</button>

            </div>


        </div>


    <script>


        let elements =  [
            // {
            //     commodityBatch_id: 1,
            //     commodity_id: 1,
            //     weight: 1.5,
            //     supplier: "AM"
            // },
            //
            // {
            //     commodityBatch_id: 2,
            //     commodity_id: 2,
            //     weight: 2.5,
            //     supplier: "BM"
            // }
            ]
        ;

        /** Show modal to add an object */
        function showModal(showAddButton) {
            document.getElementById('modal-view').style.display = 'flex';




            if (showAddButton) {
                document.getElementById('modal-add').style.display = 'block';
                document.getElementById('modal-update').style.display = 'none';
                // To allow user to write in id field
                document.getElementById('commodityBatch_id-input').disabled = false
            }
        }


        /** Add element to dataBase */
        function addElement() {

            let element = [];

            // Store user input in variables
            let commodityBatch_id = document.getElementById('commodityBatch_id-input').value;
            let commodity_id = document.getElementById('commodity_id-input').value;
            let weight = document.getElementById('weight-input').value;
            let supplier = document.getElementById('supplier-input').value;

            // To add attributes to data base if all attributes are not empty
            if (commodityBatch_id && commodity_id && weight && supplier) {
                /*element = [{
                    commodityBatch_id: commodityBatch_id,
                    commodity_id: commodity_id,
                    weight: weight,
                    supplier: supplier
                }];

                $.ajax({
                    url: 'REST/Resources/commodityBatch/',
                    method: 'POST',
                    contentType: "application/json",
                    data: JSON.stringify(element),
                    success: function (element) {
                        // Display element
                        showElementsAuto(element)
                    },
                    error: function (jqXHR, textStatus, error) {
                        alert(jqXHR.responseText)
                    }
                });*/
                elements.push ({
                    commodityBatch_id: commodityBatch_id,
                    commodity_id: commodity_id,
                    weight: weight,
                    supplier: supplier
                });}



            // Display element
            showElementsAuto(elements)

            // To hide the modal after creating an object
            hideModal()
        }

        /** To hide modal and make fields empty */
        function hideModal(updateButton) {
            document.getElementById('modal-view').style.display = 'none'

            if (updateButton)
                document.getElementById('modal-update').style.display = 'none';

            // Make the fields empty
            document.getElementById('commodityBatch_id-input').value = ''
            document.getElementById('commodity_id-input').value = ''
            document.getElementById('weight-input').value = ''
            document.getElementById('supplier-input').value = ''
        }

        /** To Show all elements */
        function showElementsAuto(elements) {
            const single_element = document.getElementById('commodityBatch-list');


            let color = true; // todo


            for (element of elements) {
                if(color) {
                    single_element.insertAdjacentHTML('beforebegin', `
                                                <div class="bg-gray-400 flex">
                                                <div onclick="showElementInfo('${element.commodityBatch_id}', false)" class=" ">${element.commodityBatch_id} </div>
                                                <div class="ml-auto">
                                                <button onclick="showElementInfo('${element.commodityBatch_id}', true)" class="text-green-600">U</button>
                                                <button class="text-red-600">X</button>
                                                </div>
                                                </div>
                                                `)
                    color = false;
                } else {
                    single_element.insertAdjacentHTML('beforebegin', `
                                                <div class="bg-gray-100 flex">
                                                <div onclick="showElementInfo('${element.commodityBatch_id}')" class=" ">${element.commodityBatch_id} </div>
                                                <div class="ml-auto">
                                                <button class="text-green-600">U</button>
                                                <button class="text-red-600">X</button>
                                                </div>
                                                </div>
                                                `)
                    color = true;
                }
            }
        }


        /** Show element information */
        function showElementInfo(commodityBatch_id, showUpdateButton){
            let element = elements[
                elements.findIndex(element => element.commodityBatch_id === commodityBatch_id)]


            document.getElementById('modal-add').style.display = 'none'
            if (showUpdateButton) {
                // To not allow user to write in id field
                document.getElementById('commodityBatch_id-input').disabled = true
                document.getElementById('modal-update').style.display = 'block'
            }



            document.getElementById('commodityBatch_id-input').value = element.commodityBatch_id;
            document.getElementById('commodity_id-input').value = element.commodity_id;
            document.getElementById('weight-input').value = element.weight;
            document.getElementById('supplier-input').value = element.supplier;


            showModal();

        }



        /** Show element information with ajax */
       /* function showElementInfo(commodityBatch_id) {
            console.log("showElementInfo");
            $.ajax({
                url  : 'REST/Resources/commodityBatch/' + commodityBatch_id,
                contentType : "application/json",
                type : "GET",
                success : function (response) {
                    document.getElementById('modal-add').style.display = 'none'
                    $('#commodityBatch_id-input').val(response.commodityBatch_id)
                    $('#commodity_id-input').val(response.commodity_id)
                    $('#weight-input').val(response.weight)
                    $('#supplier-input').val(response.supplier)
                },
                error: function (jqXHR, text, error) {
                    /!** The user can search if we have a specific element or not *!/
                }

            });

            // To show element information
            showModal();
        }*/



        /** Update element */
        function updateElement(commodityBatch_id) {
             elements[
                elements.findIndex(element => element.commodityBatch_id === commodityBatch_id)
                ] = {
                 commodityBatch_id: commodityBatch_id,
                 commodity_id: document.getElementById('commodity_id-input').value,
                 weight: document.getElementById('weight-input').value,
                 supplier: document.getElementById('supplier-input').value,
             }

            // To hide the modal after creating an object
            hideModal(true)

        }

        /** Search for element */
        function searchForElement() {

        }





    </script>


    </body>
</html>-->
